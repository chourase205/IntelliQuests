{% extends 'index.html' %}

{% block title %}Search Results - IntelliQuest{% endblock title %}

{% block content %}

<style>
/* Card styling */
.user-card {
    background: #ffffff;
    border-radius: 16px;
    padding: 20px;
    transition: 0.3s ease;
    box-shadow: 0px 4px 12px rgba(0,0,0,0.08);
}
.user-card:hover {
    transform: translateY(-6px);
    box-shadow: 0px 10px 25px rgba(0,0,0,0.15);
}

/* Profile image */
.user-img {
    width: 130px;
    height: 130px;
    object-fit: cover;
    border-radius: 50%;
    border: 3px solid #e8e8e8;
    transition: 0.25s ease;
}
.user-img:hover {
    transform: scale(1.05);
}

/* View Profile Button (gradient animated) */
.gradient-btn {
    background: linear-gradient(135deg, #4e73df, #1cc88a);
    color: white !important;
    border: none;
    padding: 8px 20px;
    border-radius: 50px;
    transition: 0.3s ease;
    font-weight: 600;
}
.gradient-btn:hover {
    transform: translateY(-3px);
    opacity: 0.9;
    box-shadow: 0 8px 20px rgba(0,0,0,0.15);
}

/* No results message */
.no-result {
    font-size: 1.3rem;
    font-weight: 600;
    color: #d9534f;
    background: #ffe6e6;
    padding: 12px 25px;
    border-radius: 30px;
    display: inline-block;
}
.empty-message {
    margin-left: auto;
    margin-right: auto;
	color: #d9534f;
}
</style>



<div class="container text-center">

    <h1 class="display-5 fw-bold text-center my-5">
        Search Results for: "<span class="text-primary">{{ query }}</span>"
    </h1>

    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">

        {% if users|length == 0 %}
       <div class="w-100 d-flex justify-content-center mt-5 display-7 fw-bold text-dark">
    <div class="empty-message">
        ⚠️ No name available in this category or search.
    </div>

        {% else %}
        {% for user in users %}

        <div class="col d-flex justify-content-center">
            <div class="user-card w-100 text-center">

                {% if user.profile.profile_img %}
                <img src="{{ user.profile.profile_img.url }}" class="user-img" alt="profile">
                {% else %}
                <img src="/static/default.png" class="user-img" alt="profile">
                {% endif %}

                <h3 class="fw-bold mt-3">@{{ user.username }}</h3>

                <p class="text-muted small">
                    {{ user.profile.bio|truncatewords:8 }}
                </p>

                <a class="gradient-btn mt-2" href="{% url 'profile' user.username %}">
                    View Profile »
                </a>

            </div>
        </div>

        {% endfor %}
        {% endif %}

    </div>

</div>

{% endblock content %}
